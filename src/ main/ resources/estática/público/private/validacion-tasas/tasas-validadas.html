<div class="row justify-content-md-center">
	<div class="col-md-12">
		<div id="example_wrapper" class="dataTables_wrapper dt-bootstrap4" style="width:100%;">
			<div class="row">
				<div class="col-sm-12 col-md-6">
					<div class="dataTables_length" id="example_length">
						<label>	Mostrar 
							<select class="custom-select custom-select-sm form-control form-control-sm" ng-model="tv.table.page.size" ng-options="x for x in tv.table.sizes">
							</select>
								registros
						</label>
						<button type="button" class="btn btn-success btn-sm" ng-click="tv.loadTable()"><i class="fas fa-sync-alt"></i></button>
					</div>
				</div>
				<div class="col-sm-12 col-md-3">
					<div class="form-group">
						<label for="{{field.fieldName}}">Fecha Inicio</label>	
						<p class="input-group">
						<input type="text" class="form-control" uib-datepicker-popup="dd/MM/yyyy" ng-model="tv.today" ng-click="tv.todayOpened=!tv.todayOpened" is-open="tv.todayOpened" datepicker-options="tv.defaultDateOptions" close-text="Cerrar" clear-text="Limpiar" current-text="Fecha Inicio" ng-change="tv.dateChanged()"/>
							<span class="input-group-btn">
								<button type="button" class="btn btn-secondary" ng-click="tv.todayOpened = true">
									<i class="fa-svg-icon">
                						<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"/></svg>
             						</i>
								</button>
							</span>
						</p>
					</div>
				</div>
				<div class="col-sm-12 col-md-3">
					<div class="form-group">
						<label for="{{field.fieldName}}">Fecha Fin</label>	
						<p class="input-group">
						<input type="text" class="form-control" uib-datepicker-popup="dd/MM/yyyy" ng-model="tv.tomorrow" ng-click="tv.tomorrowOpened=!tv.tomorrowOpened" is-open="tv.tomorrowOpened" datepicker-options="tv.defaultDateOptions" close-text="Cerrar" clear-text="Limpiar" current-text="Fecha Fin" ng-change="tv.dateChanged()"/>
							<span class="input-group-btn">
								<button type="button" class="btn btn-secondary" ng-click="tv.tomorrowOpened = true">
									<i class="fa-svg-icon">
                						<svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"/></svg>
             						</i>
								</button>
							</span>
						</p>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12">
					<table id="example" class="table table-striped table-bordered dataTable" aria-describedby="example_info">
						<thead>
							<tr role="row">
								<th ng-repeat="field in tv.table.model" 
									ng-class="{sorting : (tv.table.sortBy.fieldName != field.fieldName || !tv.table.sortBy.order), sorting_asc : (tv.table.sortBy.fieldName == field.fieldName && tv.table.sortBy.order == 'asc') , sorting_desc : (tv.table.sortBy.fieldName == field.fieldName && tv.table.sortBy.order == 'desc')}" 
									ng-click="tv.sort(field)" 
									ng-style="{{field.headerStyle}}">{{field.fieldLabel}}</th>
								<th rowspan="{{(tv.table.filter)?2:1}}" style="vertical-align:middle;" >Operaciones</th>
							</tr>
							<tr role="row" ng-if="tv.table.filter">
								<th style="padding-bottom: 0.2rem; padding-top: 0.2rem;" ng-repeat="field in tv.table.model">
									<input class="form-control" style="padding-bottom: 0.2rem; padding-top: 0.2rem; font-size: 0.7rem;" ng-if="tv.table.filter[field.fieldName] && tv.table.filter[field.fieldName].type == 'text'" ng-model="tv.table.filter[field.fieldName].value" type="text" placeholder="{{field.fieldLabel}}" ng-change="tv.filtrar(field.fieldName)"/>
									<select style="height: 1.5rem; font-size: .7rem; padding: 0.2rem;" ng-if="tv.table.filter[field.fieldName] && tv.table.filter[field.fieldName].type == 'select'" class="form-control" ng-model="tv.table.filter[field.fieldName].value" ng-options="key as value for (key , value) in tv.recursos[field.recurso].options" ng-change="tv.filtrar(field.fieldName, field.minSearchLength)">
										<option value="">Sin Filtro</option>
									</select>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr role="row" class="odd" ng-repeat="record in tv.table.records">
								<td ng-repeat="field in tv.table.model" ng-style="{{field.colStyle}}">{{ (!field.recurso)?
																															((field.formatter)? (record[field.fieldName] | metafilter:field.formatter): record[field.fieldName]):  
																															tv.recursos[field.recurso].options[record[field.fieldName]]
																											}}</td>
								<td style="text-align: center;">
									<button uib-popover="Ver detalle" popover-trigger="'mouseenter'" class='btn btn-info' ng-click="tv.viewTasa(tv.table.records[$index].id)" >
										<i class="fas fa-eye"></i>
									</button>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-5">
					<div class="dataTables_info">Mostrando del registro {{(tv.table.page.size*(tv.table.page.number))+1}} al {{(tv.table.page.size*(tv.table.page.number))+tv.table.page.size}} de {{tv.table.page.totalElements}} registro(s)</div>
				</div>
				<div class="col-sm-12 col-md-7">
					<div class="dataTables_paginate paging_simple_numbers" id="example_paginate">
						<ul class="pagination">
							<li ng-class="{disabled : (tv.table.page.number == 0)}" class="paginate_button page-item previous" id="example_previous">
								<a href="#" class="page-link" ng-click="tv.table.page.number = tv.table.page.number-1">Previa</a>
							</li>
							<li ng-repeat="x in [].constructor(tv.table.page.totalPages) track by $index" class="paginate_button page-item" ng-click="tv.table.page.number = $index" ng-class="{active: (tv.table.page.number == $index)}">
								<a href="#" class="page-link">{{$index + 1}}</a>
							</li>
							<li ng-class="{disabled : (tv.table.page.number == tv.table.page.totalPages-1)}" class="paginate_button page-item next" id="example_next">
								<a href="#" class="page-link" ng-click="tv.table.page.number = tv.table.page.number+1">Siguiente</a>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>